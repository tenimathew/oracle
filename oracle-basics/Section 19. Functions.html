<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-oracle-basics/Section 19. Functions">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<title data-rh="true">Section 19. Functions | Oracle Tutorial</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://tenimathew.github.io//oracle/oracle-basics/Section 19. Functions"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Section 19. Functions | Oracle Tutorial"><meta data-rh="true" name="description" content="Aggregate Functions, Analytical Functions..."><meta data-rh="true" property="og:description" content="Aggregate Functions, Analytical Functions..."><link data-rh="true" rel="icon" href="/oracle/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://tenimathew.github.io//oracle/oracle-basics/Section 19. Functions"><link data-rh="true" rel="alternate" href="https://tenimathew.github.io//oracle/oracle-basics/Section 19. Functions" hreflang="en"><link data-rh="true" rel="alternate" href="https://tenimathew.github.io//oracle/oracle-basics/Section 19. Functions" hreflang="x-default"><link rel="stylesheet" href="/oracle/assets/css/styles.504e07a5.css">
<link rel="preload" href="/oracle/assets/js/runtime~main.31b0f7d5.js" as="script">
<link rel="preload" href="/oracle/assets/js/main.be7cdecc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/oracle/"><div class="navbar__logo"><img src="/oracle/img/logo.png" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/oracle/img/logo.png" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Oracle Tutorial</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/oracle/category/oracle---basics">Oracle - Basics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Oracle - Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 2. Querying data">Section 2. Querying data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 3. Sorting data">Section 3. Sorting data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 4. Filtering data">Section 4. Filtering data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 5. Joining tables">Section 5. Joining tables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 6. Grouping data">Section 6. Grouping data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 7. Subquery">Section 7. Subquery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 8. Set Operators">Section 8. Set Operators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 9. More on Groupings">Section 9. More on Groupings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 10. Modifying data">Section 10. Modifying data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 11. Data definition">Section 11. Data definition</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 12. Datatypes">Section 12. Datatypes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 13. Constraints">Section 13. Constraints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 14. Temporary Tables">Section 14. Temporary Tables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 15. View">Section 15. View</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 16. Index">Section 16. Index</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 17. Synonym, Sequence">Section 17. Synonym, Sequence</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 18. Jobs">Section 18. Jobs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/oracle/oracle-basics/Section 19. Functions">Section 19. Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/Section 20. Query Tuning">Section 20. Query Tuning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle/oracle-basics/todo">todo</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/oracle/category/plsql-tutorial">PL/SQL Tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;PL/SQL Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/oracle/category/oracle---administration">Oracle - Administration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Oracle - Administration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/oracle/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/oracle/category/oracle---basics"><span itemprop="name">Oracle - Basics</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Section 19. Functions</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Section 19. Functions</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="aggregate-functions">Aggregate Functions<a class="hash-link" href="#aggregate-functions" title="Direct link to heading">​</a></h2><ul><li>Oracle aggregate functions calculate on a group of rows and return a single value for each group.</li><li>We commonly use the aggregate functions together with the <code>GROUP BY</code> clause.</li><li>We also use the aggregate functions in the <code>HAVING</code> clause to filter groups from the output based on the results of the aggregate functions.</li><li>The <code>DISTINCT</code> clause instructs an aggregate function to consider only distinct values of the argument.</li><li>The <code>ALL</code> clause causes an aggregate function to take all values into the calculation, including duplicates.</li><li>For example, the <code>DISTINCT</code> average of 2, 2, 2 and 4 is 3, which is the result of (2 + 4) / 2.</li><li>However, the <code>ALL</code> average of 2, 2, 2 and 4 is 2.5, which is the result of (2 + 2 + 2 + 4) / 4.</li><li>Oracle uses the <code>ALL</code> clause by default if you don’t explicitly specify any clause.</li><li>All aggregate functions ignore null values except <code>COUNT(*)</code>, <code>GROUPING()</code>, and <code>GROUPING_ID()</code>.</li><li>The <code>COUNT()</code> and <code>REGR_COUNT()</code> functions never return null, but either a number or zero (0). Other aggregate functions return <code>NULL</code> if the input data set contains <code>NULL</code> or has no rows.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="avg">AVG<a class="hash-link" href="#avg" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">AVG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">DISTINCT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> expression</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-----</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">AVG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> standard_cost </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> avg_std_cost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="count">COUNT<a class="hash-link" href="#count" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DISTINCT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> expression</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-----</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> items</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="max">MAX<a class="hash-link" href="#max" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">MAX</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> expression </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-----</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">MAX</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> list_price </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token punctuation" style="color:#393A34">`</span><span class="token operator" style="color:#393A34">|</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="min">MIN<a class="hash-link" href="#min" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">MIN</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> expression </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-----</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">MIN</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> list_price </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sum">SUM<a class="hash-link" href="#sum" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">SUM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DISTINCT</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> expression</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-----</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SUM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> quantity </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> order_items</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="listagg">LISTAGG<a class="hash-link" href="#listagg" title="Direct link to heading">​</a></h3><ul><li><code>LISTAGG()</code> function is an aggregation function that transforms data from multiple rows into a single list of values separated by a specified delimiter.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LISTAGG </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ALL</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> column_name </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">delimiter</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WITHIN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sort_expressions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    job_title</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LISTAGG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        first_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;,&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WITHIN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        first_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> employees</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> employees</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> job_title</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> job_title</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="return-an-error-on-overflow">Return an error on overflow<a class="hash-link" href="#return-an-error-on-overflow" title="Direct link to heading">​</a></h4><ul><li>If the result row exceeds the maximum length of the supported data type, you can either return an error or truncate the result row and concatenate a truncation literal.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LISTAGG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ALL</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> column_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">delimiter</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> OVERFLOW ERROR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WITHIN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sort_expression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LISTAGG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> OVERFLOW ERROR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WITHIN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-----</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ORA</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">01489</span><span class="token plain">: result </span><span class="token keyword" style="color:#00009f">of</span><span class="token plain"> string concatenation </span><span class="token operator" style="color:#393A34">is</span><span class="token plain"> too long</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="truncate-result-on-overflow">Truncate result on overflow<a class="hash-link" href="#truncate-result-on-overflow" title="Direct link to heading">​</a></h4><ul><li>Since Oracle 12c Release 2, you can use the <code>ON OVERFLOW TRUNCATE</code> clause to handle the overflow error gracefully.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LISTAGG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ALL</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> column_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">delimiter</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> OVERFLOW </span><span class="token keyword" style="color:#00009f">TRUNCATE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WITHIN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sort_expression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>By default, <code>LISTAGG()</code> function uses an ellipsis (…) and the number of overflow characters such as …(120).</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LISTAGG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> OVERFLOW </span><span class="token keyword" style="color:#00009f">TRUNCATE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WITHIN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>If you don’t want to use the default ellipsis, you can specify a custom truncation literal by defining it after the <code>ON OVERFLOW TRUNCATE</code> clause as follows:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LISTAGG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> OVERFLOW </span><span class="token keyword" style="color:#00009f">TRUNCATE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;!!!&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WITHIN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>To remove the overflow character count, you use the <code>WITHOUT COUNT</code> clause. Note that the <code>LISTAGG()</code> function uses the <code>WITH COUNT</code> clause by default.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LISTAGG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> OVERFLOW </span><span class="token keyword" style="color:#00009f">TRUNCATE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;!!!&#x27;</span><span class="token plain"> WITHOUT COUNT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WITHIN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="analytic-functions">Analytic Functions<a class="hash-link" href="#analytic-functions" title="Direct link to heading">​</a></h2><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>CUME_DIST</td><td>Calculate the cumulative distribution of a value in a set of values</td></tr><tr><td>DENSE_RANK</td><td>Calculate the rank of a row in an ordered set of rows with no gaps in rank values.</td></tr><tr><td>FIRST_VALUE</td><td>Get the value of the first row in a specified window frame.</td></tr><tr><td>LAG</td><td>Provide access to a row at a given physical offset that comes before the current row without using a self-join.</td></tr><tr><td>LAST_VALUE</td><td>Get the value of the last row in a specified window frame.</td></tr><tr><td>LEAD</td><td>Provide access to a row at a given physical offset that follows the current row without using a self-join.</td></tr><tr><td>NTH_VALUE</td><td>Get the Nth value in a set of values.</td></tr><tr><td>NTILE</td><td>Divide an ordered set of rows into a number of buckets and assign an appropriate bucket number to each row.</td></tr><tr><td>PERCENT_RANK</td><td>Calculate the percent rank of a value in a set of values.</td></tr><tr><td>RANK</td><td>Calculate the rank of a value in a set of values</td></tr><tr><td>ROW_NUMBER</td><td>Assign a unique sequential integer starting from 1 to each row in a partition or in the whole result</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cume_dist">CUME_DIST<a class="hash-link" href="#cume_dist" title="Direct link to heading">​</a></h3><ul><li><p>Sometimes, you want to pull the top or bottom x% values from a data set e.g., top 5% salesman by volume. To do this, you can use the Oracle <code>CUME_DIST()</code> function.</p></li><li><p>The <code>CUME_DIST()</code> function is an analytic function that calculates the cumulative distribution of a value in a set of values. The result of <code>CUME_DIST()</code> is greater than 0 and less than or equal to 1. Tie values evaluate to the same cumulative distribution value.</p></li><li><p>The following shows the syntax of the Oracle CUME_DIST() function:</p></li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CUME_DIST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> query_partition_clause </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    order_by_clause</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Because <code>CUME_DIST()</code> function is order sensitive, the <em>order_by_clause</em> is required. The <em>order_by_clause</em> has the following syntax:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ASC</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NULLS </span><span class="token keyword" style="color:#00009f">FIRST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LAST</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> expression2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ASC</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NULLS </span><span class="token keyword" style="color:#00009f">FIRST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LAST</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>ORDER BY</code> clause specifies the order of rows in each partition.</p><p>The <em>query_partition_clause</em> has the following form:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">expression2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>PARTITION BY</code> clause divides the result set into multiple partitions. It is optional. Omitting this clause means that the function will treat the whole result set as a single partition.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cume_dist-function-over-the-result-set">CUME_DIST() function over the result set<a class="hash-link" href="#cume_dist-function-over-the-result-set" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cume_dist</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> sales </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;%&#x27;</span><span class="token plain"> cume_dist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain">  salesman_performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain">  </span><span class="token keyword" style="color:#00009f">YEAR</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2017</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-11-23-47-b7edb72665782830a380bd4235084a91.png" width="235" height="200" class="img_ev3q"></p><ul><li>As shown in the output, 33.33 % of salesman have sales amount greater than 1.99 million.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cume_dist-function-over-the-partition">CUME_DIST() function over the partition<a class="hash-link" href="#cume_dist-function-over-the-partition" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CUME_DIST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> sales </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;%&#x27;</span><span class="token plain"> cume_dist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain">  salesman_performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain">  </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2016</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2017</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-11-24-29-ba33750b901f4a3b5909e901efafb745.png" width="282" height="378" class="img_ev3q"></p><p>In this example:</p><ul><li>The <code>PARTITION BY</code> clause divided the result set into two partitions by year, 2016 and 2017.</li><li>The <code>ORDER BY</code> clause sorted rows in each partition by sales amount in descending order to which the <code>CUME_DIST()</code> function is applied.</li><li>To get top 30% of the salesman by sales revenue in 2016 and 2017, you use the following query:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> cte_sales </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CUME_DIST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> sales </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> cume_dist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2016</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2017</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> cte_sales</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> cume_dist </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.30</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="data:image/png;base64,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" width="285" height="97" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="percent_rank">PERCENT_RANK<a class="hash-link" href="#percent_rank" title="Direct link to heading">​</a></h3><ul><li>The <code>PERCENT_RANK()</code> function is similar to the <code>CUME_DIST()</code> function. The <code>PERCENT_RANK()</code> function calculates the cumulative distribution of a value in a set of values.</li><li>The result of <code>PERCENT_RANK()</code> function is between 0 and 1, inclusive. Tie values evaluate to the same cumulative distribution value.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PERCENT_RANK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> query_partition_clause </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    order_by_clause</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Because <code>PERCENT_RANK()</code> is order sensitive, the order<em>by_clause is required. The <!-- -->_<!-- -->order_by_clause</em> has the following form:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ASC</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NULLS </span><span class="token keyword" style="color:#00009f">FIRST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LAST</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> expression2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ASC</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NULLS </span><span class="token keyword" style="color:#00009f">FIRST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LAST</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>The <code>ORDER BY</code> clause specifies the order of rows in each partition.</li><li>The <em>query_partition_clause</em> has the following syntax:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">expression2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>The <code>PARTITION BY</code> clause divides the result set into multiple partitions. It is an optional clause. Omitting this clause means that the function will treat the whole result set as a single partition.</p></li><li><p>The following statement calculates the sales percentile for each salesman in 2017:</p></li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       PERCENT_RANK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> sales </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;%&#x27;</span><span class="token plain"> percent_rank</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> salesman_performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">YEAR</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2017</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQEAAADJCAYAAAAjIIeQAAAAAXNSR0IArs4c6QAAAGhlWElmTU0AKgAAAAgABAEGAAMAAAABAAIAAAESAAMAAAABAAEAAAEoAAMAAAABAAIAAIdpAAQAAAABAAAAPgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABAaADAAQAAAABAAAAyQAAAABN6g0+AAACC2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjE8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KlqhK0AAAI+xJREFUeAHtnU9oHMm9x3/aLCEhkEDW94fNSgiDjjpIISc7iaUYLAgTk7zAkBAkb9jLKDpa5CAfZ0eHLOvIhyRKIMHoEBmMZv2el/dOY4iOAjPMOOv33jHYCQRyCPkz7/fr7uquqq76dc2oZKs9v17s6a4/v/rVt7p/XV29/fHMCLc//elPIFt8BX7605/CT37yExB9q7UVrao1OqsSb7kM/+53v4Pf/va3gPHBlS1pp1RA9A0XULQK12rSkm/bFf/+97/DX//6V/jb3/4GMzMzdrYcn1IB0TdcQNEqXKvTlCzNBA4PD+Gb3/wmfPWrX4Vf/epX8M9//vM09qWupYDoawnCHIpWjDgRs0ozAZoFfOELX0iaoADwmc98JmJzYkr0DT8HRKtwrU5T0pgJ3L9/H65evZqsBVAA+MpXvgL7+/tO+6NP78K1d96Bd7I/1+5+mpcbjT6Fu9cw79pd+DRbV0jKa8dU2LaR2roGdz8dlfLIfl5+83HeFu083rTa8rWPvhp+Uh8sn3TDeXtJHzfhP/9g9pn83Xwcvm5y3vXV+/6690O1MseIzsdNeIznXDmd8q7BR/9lj2F6vun9HT3ezM/r5JzE863Knuu82qFrILs+9F+9rNGudU2Rv3Qt6Jv32vKc23+gc1Y7x1Xf9PPWCAJ04f/rX//K2/zc5z6X7+s7o9Fj+PHiA7hx/AJevnwJL17ch8vDIgjA80fwAJr43wN49Fyv6dhfvAPHL1I7ZOvly4/h1sVP/PYX0e7Tdi4ODU776SIs6qZ97WPdyw9+lNfVq7j2Zy69B93jO7CY+PgBXKUlEs3fF5j39OaF4EBQC31dQryGtFCtEtf0MbkPcHPlZ3jzMcdKnVvv/ZuZ/uL4BjxY/HESOMjWp3evwYWbAPe1c/I+HGG+Wc+05z6v/r2bXR/5OZQef/zeJWrKvel9sXxLKpzi3KZrZeXmU7iD120nOZlTF/IgQG8DKAD8/ve/Tx4BPvvZz8KTJ0+AFmd+8YtfOBy+DLMX0+SZmavQ6VzNyzx/9ADgxvuwevkYHlRGgbyateOzPwurNyC3+8mHt+HyDUzQNn/7s/D+1mW4/eEnWunJd1WQeNqmk47OEv9WH339fXhVOeNrpXl2ZRWax0PQbklapmP34ixczpLpLkun7p1jCvjFovjVTie9ATiqp0lxz6u8Gc03lTbxuf38Z7CS3Li78N6lom9kNw8C3/nOd+B73/se/OUvf1HtJW8JfvjDH8L3v//9PI126KJfbe7DzQsX4B1raq6EvPGNi3BltQnHDx7xF8jxbVgkO2rahFOX53DFa5/av3RrCy7f/hAeJ7OAO/D+Nyg13Srbv/IB3IebwXdvZdf7SwMVcNLVSV9vX19Rxjha2S49/1kb9hdnIbnXOs4ta3YN8MlRUZ7ussfFzce2DZy92OcVNa77hoeTn9sP4EeeAEDN5EGADsbZrnZo6o6PAqtH6QWsgkEyXbkBGAMAowBG5YpHAm36k0yxPn4PLmEU9tpPnMyCxCLOArZuATWVbwHtX3kfp/F4936eVzp/O97+B/TP6M1E+hoWzv+BdnEuPrgBx91beA6h286+Y7pW/kJ7NitPFXBTASQ9Mv/22ctKRTmvON8Cxt7pwzFOzO/gDPhH7hlrHgR+85vfwK9//Wv44he/CP/4xz+SbtFbgl/+8peex4G05zNXO8maQHOfnptGuBzwAI6zjlzAh6t9OM0jAc46DPvFmFBnF3HVYfVKkUZ7Ie3TNP6jGw/gw0dm3YmOng/hKXfiZEbroS//SDORPhNUGlsr/eLMbiJss1l5WtNZ1Gdxyayu4qbFGI5yXvl8w3YnPrcX8aZ86wM4xnN+8cflR+E8CHz3u9+Ft956C65fv578j0L0fwteuXIlSbMfB5KVUnXnJ1GyC+Fi8kx1DM37xULfi/vqkYBRz8ry2U+meFlZEvzjl/SslkVwTE+nS2HtX8RHCrh9G0PU5Fu6QJrORmj2wm1105fry1nnjaPVaXxJ1nRoIfFCujBIj7l4b4Hb2kIh2X+8SW8cwlqKcV5RS7ZvMc7ti7c+gjtPbxpvyKitPAjQwdtvvw1//OMfk8VAWhD885//bLwtoDLJdvEbcAONqef4C/S88RFOwf7nP/B9AD6j63dn9Ujwf1hTm+qkr3LstPQ1zt3R1932+esMg1FF+6n3yd804B9ggOK2ZDUVHznSmQ2dKFha68OFC22YtVZaOXvnX98qgbnexc0L1oprVhur9FzFV27/a1agmebxnacYCFaSt0aX3vs4Oy7WqW7CarowGGIv4LwyPfAfGb79N71xY64tzYzv3J6ZuQS3uvgm7/aiEQhm7A+I6P8L+NrXvpaYfPToUWlRUGtLdisUcH0UI/q6RROt3Lq8ilRjJkANfv7zn0/eENBbAno8oE2tESQHb+BfNK3fVG8njN/y/6xx2u5Po76TavamavUqz7cQ7Uv/2/C3v/1t+PnPf57U/cEPfpD80tTsTd5o+tTBNx2dV9DJadR3UlnfVK1e5fkWon1pJkCVvvSlLyXrA7Sv/x+EdCzb6RUQfcM1FK3CtZq0pPMW/61vfSu3px4J8gTZObUCom+4hKJVuFaTlnybqDe0KCPb2Sgg+obrKlqFaxWzZPJ2IKZBsVUoQCf1l7/85SJB9rwKiFZeac48w7kmcOatSgOigChwbhSQIHBuhkIcEQVejwISBF6P7tKqKHBuFJAgcG6GQhwRBV6PAhIEXo/u0qoocG4UkCAQPBRD2N1YTjDsMzMb0B1mFYdd2FieSdOXtXSv3SF0lR2jPNrBLxEJ857/2ehaVjw+gO7DLijX0spYR/dPszjcVf1J21zeVTVDfNEMWbvUv2Xqx3LZF3ffLQN46LOR+0zalatJygQKSBAIEo0uvjbA2n4CYR2N9mBlNq2429yB+e1Bkj7YBiQi7bIWuxtNOMzsUPmdtnYqL3Uy+wjKHHRgybDk96G7gT7sYx0CbG73oZlfzADD3SYcNFL/Rj38fDqPXqnxpU6Wh3V7raxTlMX6YjhmHAx3N7B/PeiRL/sAbc0Xtu+aFc7Gw4MFOELbg8YJ7Gi2teqyO6YCEgRCBOu2ob+2By115Wt1Wr1enj67sgbrWp5rd2WvB3sOOwArsNdr5VWGDw9gYW0lPwbGh6IQ7r07D9B/lic96wM0rquLexb6h+2AO2iFL7n18g66Dbnbs+jLwcO8kL/veZFkh7NxHS/+VZxlzGEw2NaDlmlCjsZQQIJAgFhDvJDgcCOd4s4sw4Z1N1Umhrs7cNK4rg79v8PdxNbcDsD+nnahazXojpdfTJjO+bCy1YCDJk3B8U+7D9tbhU2KCQcP02n+sLsLB/dOoK9m/Wj3yeZc9vhB/dIc0HZtX7Ssit0VmIe+GXQC+m4aNW3MtvZhcHQEnQWcRdFjDj5yyHY6BSQIBOj3rH8P7t0D2B7QlLsHW/2H5omNNmgK2+xvm1Nqn+3ZVjJdpseBpuvKwwvlYGEN5wbFxvkwxBv/9j5NwfHP1po+EYDZ1jYsHKQX+txOHxa0Z4zZVq94/KC5+86GtZ6QdKzkS+HVBHtVfWdN0lrFHMzt7EB/fh77jI8y2uyJrSqZXgUkCHilMTOWOlv5OgDOt427KS1itWELep67ummpOJpd2YPGyWEpoADN4effLQpmez4fHuLF/W4x48cpv35Lp6l9tl7Q28M78wLkTwdGC7OYB1A8SGSZHl+Mqt6DISo1bwQzVdTbd1Ug/9VtYF+StYYGnCDya3Wu6Z295NVlp1IBCQKVEuHT+haSBvDZNptU4zU6D/PJRUcr78vJQthe9ny6i6vW2mzbsj7ENwnLsJs9Tgy7G7CJF4l9uXcPT7Tn+NSE3weMFzg1fqYaTZ4b9GZVBs1WlnGRcAvSeGH7grOPQF/Iulqltycy1xsYIlUMGj7UHo/s9tx9J9t+G5SLa5vtTVg4wsA2wGBgBLw0X/4eUwHCi8lWrcCgsz7CmTRSBpdG67g8nWyDTpZG6erP+khlI0K9bHhwNFpfysouYdmBXYTyO6NSMhZz+pBUt2xqJgedpdS3JfLbsnoqX1K7uRZam5111T+rH0x7tlZeG9ROrrs2Flr7sjueAvIV4ZhBc5zi8mVcuFqiVbhWsUvK40BsRcWeKFAzBSQI1GzAxF1RILYCEgRiKyr2RIGaKSBBoGYDJu6KArEVmKFV2dhGxZ4oIArURwF5O3CGYyUr3uHiilbhWsUuKY8DsRUVe6JAzRSQIFCzARN3RYHYCkgQiK2o2BMFaqaABIGaDZi4KwrEVkCCQGxFxZ4oUDMFJAgEDxjhvRSTz2QJ+nh4TtMVTEK/LfpiMeMP2ny9iW2mHqZfBLqZfVzeJP2jOlU2h91uprXDp4q+On3K28z0QzJRwVNU/hCgxNGez+AblC5BIGgw/Xw/jofnMs0xCTlbHCtwUpupf11oHzQAv2x0bFyeozgmcb6kNaptzq6sQAsxbB2HT9X23X5Rqo+nOO3cQgkC/nOmyGH4fhwPrzBQ7HFMQs4Wxwqc1CZ5RUg0hPUlQJHCy3SPy7PLqmPOFyoziU1lm36r7OtlQ/ennVsoQSDgTOH4fmZ1k4dn5pWPeCahaauKFaisj2MTr8gEieYEInF5qrGK35IvEWzqTZbs65mOfR9Pcdq5hRIEHCeLncTx/eyyocdjMQnRKMcKVG2Oa7PbPoCGBiVVduiXy9PL+fZdvpzWpt6Wy76eb+/7eYrCLZQgYJ8tnmMf388srvPwzBz9KIxJaNviWYGT2OyfPIHNuXSxbPPJPVjVyL1cnt4X177Pl9PY1Nvx2dfL8Ps6T1G4hUSbla1KAcJZ5civwehovZMjxAj51VE8MSrXKRBeNjILuVijToL5KhrsIGJM1eBsUV21ETKsaOc0NpXFEfpVYNGK1HTPlaewZSZejPdFt2vbLGvl8qnavs+vddS9k+HVBkf6eKZeHSESLekLjaHZKd3tN3JfgkDgsPr5fniyeph6pRM7Z+MpHiH9mhefz5Y6ucFmBZ7CZnb6j/AfTEk5hKWTH9mFnjzlj1ElwJcRhk+XTV0rfCuQ+qPaVgE4wL7TL+oowzdMdMhtTx+3UL4i5OeNp8qVL+PC5ROtwrWKXVLWBGIrKvZEgZopIEGgZgMm7ooCsRWQIBBbUbEnCtRMAQkCNRswcVcUiK2AMAZjKyr2RIGaKSBvB85wwGTFO1xc0Spcq9gl5XEgtqJiTxSomQISBGo2YOKuKBBbAQkCsRUVe6JAzRSQIFCzARN3RYHYCkgQiK2o2BMFaqaABIGAAUuZeBV8OuTWzVjsOpdplp8HDEeQzcPv/5F/uEw+4OfAw7xh+la+8Jv8m9noZrlcnjLg5yqqEuVffx84HQ07DEeQs5HnTSkr0NBwjAMJAoFi+fh0VJ3Ls81z/DyOI8jnbcDhWg96oxGM9gHau0UYQOfoS9H0z6ADBraPy6Ogs9EGWNvP6u/Byqzdm/Ix5yeVDtGqiiPoszHtrMDyaISlSBAI0+mVlOI4glyen01IIJJW7vsQCy6srWTHXB4WYbiKuUHHDueno7gzaVKO4LSzAp1iBiRKEAgQiYr4+HRVeYHmk2IcR5DLM9sw2YR6Ht0p8xigZ+C+nRfOVTQNVfnJ6WhaSo9cHEGfjWlnBbr0C0mTIBCgkp9PR+y/XjHdprn4zob2TB5gXCvCcQS5PM2EfxchnwcLa6DmAUZBR96kXEXOz3G1cnEE/TaEFWiM6RgHEgTGECstqvPp7Mpcnl3WdcxxBLk83ZbNJszyaJ4+/65esNj35IVxFQsz6V6on7xWYRxB3Qa2m6yJNOBkcxNW55qQr4HaLsqxoYAEAUMO18EQNpaXYbebLrYNu3hHRUp/ejlxeS5bVWnFgh6tdB80tqBYi/PnXW8A9NWi//AhnDSulxrqHp5A43phTS/gylvZ6gAcPMxmNUN41p+Hea26WokvX2g+P0O1orcLy8lC514rbXAXV/sz9ZmxSHvUbW/CwhEuhA4wGBwqUfTeyn5JgYSvJn/xCnB8OiZP5+apBrz8PCyg+HgljmBFHtn2sQkpL+H6KU5fmqD9jcw/Tx7HVVS+GoxBtKrSXX3gOH+5VjnrT+cMahxGRu+kU3n96WMFaoM61q58RVgKi/ES5Mu4cC1Fq3CtYpeUx4HYioo9UaBmCkgQqNmAibuiQGwFJAjEVlTsiQI1U0CCQM0GTNwVBWIrIIzB2IqKPVGgZgrI24EzHDBZ8Q4XV7QK1yp2SXkciK2o2BMFaqaABIGaDZi4KwrEVkCCQGxFxZ4oUDMFJAjUbMDEXVEgtgISBGIrKvZEgZopIEEgeMDcvD2eGVg2zpVXX+YlLMASrxC/l1/OeIEGR1C14fYPEUFsPTebUNkESH3aQCvjbVw9Li9tZZgwExMdiBeYf5gYwkV0+8lpm+dNKZtQgoD7nLFS/bw9jhloGUkOq8r7+HndjR2Y389Ygdt9aOocQYYHyNUjaIeXTZh424X2QQPWDTChq1d2GlePy0vtdDea6FfKNhxsI6elrYUgloto+2Ee+7SddjahBAHzPHEfTcjbcxuLkEoMr/6zwlCof1Y9P5swNU1oL9huIT1hvI2rx+WpVlb2erDnpJoSsMTHTFS1x/+ddjahBIGAc2ZS3l6A6VIRHz9vZasBB03CiuOfdh+2twpQGOcfV89s3GITInKs2d/Gi9EsVXnE1ePybMNYlhDqcxiH9j1O2FxE24R97NN22tmEEgTsM8VxPClvz2GKTfLz8/DZHG/82/uEFcc/W2vGRIDzj6vHOdNtH0BDCzRcWT2Pq8fl6TaS/dlWglCnx4FmGV9EixV+ZmLJGMeCFDahBAHHCeNKmoy357IUmqbz85AGvNOHdxXeC3/7FjrL519VvcIbk03YP3kCm3PpQuTmk3uwiouRIRtXj8vz2Z5d2YPGyWF5YdLDRfTZMdN1bYVNKEHAPDucR1W8PWelsRN5Bt/8AsAztUqezP+LBjj/uHocm7DVyxYhEd7ZWVqHI+1ZnFpWK+r2TZqrx+UVvbF12IDNnOlYlHJxEf1+2TZ1TmRqc6rZhGPByKa4sI+3xzEDc26ephtXnmPwpZzAjLu3pDH3Mts+/6rqVbIJIWvTggkqlqCVnHmD3EJPvcQfR56hVRVHcMRxEZdGeFmPSn5V2ZxiNqF8RVjcXKLvyZdx4ZKKVuFaxS4pjwOxFRV7okDNFJAgULMBE3dFgdgKSBCIrajYEwVqpoAEgZoNmLgrCsRWQBiDsRUVe6JAzRSQtwNnOGCy4h0urmgVrlXskvI4EFtRsScK1EwBCQI1GzBxVxSIrYAEgdiKij1RoGYKSBCo2YCJu6JAbAUkCMRWVOyJAjVTQIJAwICpL+bc7D8y4OP7lY1zjEGyQ8y/MlsvbcOXx/vnZwz6fZmc5ZdokbMQbTah3xddKb4/SE1EjQg4MmOxFvN6U8oK1DUcZ1+CQKBaPj5dGgDaABkTbzTaAycZK2uHYwxybD0uj0z7/OMYg5wvaBDwk8D0z6ADoZjB4W4TDhqDtF5vC69Y9f0zXbwcJ9EcCF9/OC7itLMCTQXDjyQIhGvlLhnK93PXNlL9bD0ALs8wwh1YjEF/0clZfsT6aFwv6Cf9w3YZCEINB/tieslxEaedFWgqFX4kQSBQKx+fjuP7BZo2i3FsPSbP5184Y9B0Qz8ah+VH1/bBw/TuP+wivOPeCfSzycA4vvj6o/uFoRFxI/08yEw7K9DUJvxIgkCAVhz7j+P7BZguF+HYep48zr9JGYO5Y2Oz/LZh4WAuWdeYQyTagvYcEeoL15/cr9KOsAJLkgQmSBAIFKoopvPp0lQf36+oM/6el62Hprg8zE0Q4QpIHs4Y9Pg4NsuPHiWytYTeHvqyAOrpYDJfzP6YXupcRGEFmtqEH0kQqNSK59NxfL9K00YBux2drTdOnsnP4xiDRvOeg/FYfmSkWAik1fqDxhaGpXQL88Xuq9kfjotIrUw1KzDTeewfDX8nuz4FKvh0Pr6fwc3LbE/MGOR84PISHp+bTcj6kvg7PstPsQdhaQk5fwNLUbLn9sXQiu3PaMRyEaeYFWiJHXwoXxGOHTbDK8iXcaJVuAKvr6Q8Drw+7aVlUeBcKCBB4FwMgzghCrw+BSQIvD7tpWVR4FwoIEHgXAyDOCEKvD4FhDH4+rSXlkWBc6GAvB04w2GQtwPh4opW4VrFLimPA7EVFXuiQM0UkCBQswETd0WB2ApIEIitqNgTBWqmgASBmg2YuCsKxFZAgkBsRcWeKFAzBSQIBAxYzq4jrh3+Wd5VX8qNz+Lzc/3IET9jkK/n5+6l3XMzEP39UqK466lc9y/W8TAGq/pg2vO0PdQ5hcgwVENhVi4dcX3N86aVTRj8qdEUF6Qv45B551Ag/couz6Av2NaP8kPjy7g8Nd3pLK3j933mdrRefHk3OFo3bKmSrnr0FWPeLPqwbvg6wK/u1ked0hd9o5G/X9Sav57yxfVr2hyMjhztuvpgauVvu4NfJ6q+kEbIQnS5UUoz/TKzlT9cGbPGm3X0dilkSsIYChBAYyUvP0QA3sJaLz8ed4c4goW18NoJd081O5vwvQBardRAxkDcG9fwhPUSxuCWIgjMQv9wgwCJ4/WLabvVUx0luMoarCO96LQbsQnncIYHS+tw1FO+n9ZqferL40DgWIUw78Zh8XmbZTiC3jpGhsndq2Ig+vpVVc9oUjvgGINaMXY3tO3h7g6cNK6ztvRMX1+nnU0oQUA/Szz7Qcy7MVl8nqbw9taCHqK+B9sAzY2ut1hoBsdA5PrF1ePanm35GYNcPT0vpG1Cjzf729Brhd25/X0VNqEEAf3sC9r3MO/GZvHxjfEcQa6uzt1Ly4UxEMv9Cqtn++JnDNoluWOubfrHR9qwBb2xn3FUi3pfhU0oQUCdF95fnnmnqvlYfCq/+tduR2cM8rU57p6fgWi3Z7L8/PVSX9SKenmyUizXUxmdMcj3osj1t01vHpbhENdd9rIZwC6u6Bct4vsVbJPe4Jh+8X2llqeaTfhmrXOeUW8qmHejhOPXwfV0czNXvNM8luvHtMPWQ9Mcd8/HQBwx7ZG33npJ3tIIr53irQRVwI1W2CndxRjk+mBr5Ww75wdmnEJqB8y3LKr9/G1J6hY6ZvEN7cHKbdMbGlVpOn7lK0K6DZzRJl/GhQsrWoVrFbukPA7EVlTsiQI1U0CCQM0GTNwVBWIrIEEgtqJiTxSomQISBGo2YOKuKBBbAWEMxlZU7IkCNVNA3g6c4YDJine4uKJVuFaxS8rjQGxFxZ4oUDMFJAjUbMDEXVEgtgISBGIrKvZEgZopIEGgZgMm7ooCsRWQIBBbUbEnCtRMAQkCAQOmvkyjr9NMxmBROS2DzLsiybnHcfa4vNSYh7uHmfR57TL5t7xrfFXHcguzL+58/fLbdHaNvICNTCNlc8b4nM/PHyws8ja4scjzppUVWIg41p4EgUC5kDEI+E1Z8qcMsuhC+6AB60vVxmZXVqCFGDH8oq60cXl0Me9utAHW9jM/ENmV8TQIsEGf1xKMZLQP0M5BqBQcmpiX1iFQyU7bDFO+fnE2S47rCUudXCf8pBD0bg53m/hpcaZjbwud0z8C1owwNqiUz2ciO+EHgDBAXNiOpoFmWXYdCkgQcIgybhJhrmC7BUj3O7st4+611JWvtZQwBhVDUDEGs3ziFu456mjVnbucTWeFJJGAIhnbEI9T5qJyDCDhD15XJCDiD7YdMyfehr9tAGIFruJMZA6DwXYgcYizNy15EgQCR9rHp0OKRYK5mhhyE9h+KHcPqZ4YjPrmxcVwC739Mvxy2DTy3Qc2c3ES/qBtg1ry+TztrED3KFSnShCo1gixf71iikvz7Z2CZtNtH0Bjq7jbBZibqEgId89r2MMt5PrltRWa4WAujs0fdNrwjYWwAkOHxi4nQcBWpPJY59MB9E+ewOZcumC4+eQerOLC3FltHHevaLPMGFR5PLfQ7Jeqk/76bZrltCMnc3FM/qDThtYG6D4LK1BXZpx9CQKVavF8ulYvXSykRUP8RyyQW188E1eaHqOAn7tHz8IYjNR63/ChhuG2fde5hXaeyRj020ydVivxxuK/1h83c7FYCKT6VfzBsg3eZ2p+qlmBmv5j7U4HRe2Uvazi0xFjMOHdIfNOA9TZ3DzyguPscXlU18ndowzcvIxBzncuj7OJeV6WHznjYS6qOi7+YFmr9F93slGAwgpMBI76l3xFOFbIHK+wfBkXrpdoFa5V7JLyOBBbUbEnCtRMAQkCNRswcVcUiK2ABIHYioo9UaBmCkgQqNmAibuiQGwFhDEYW1GxJwrUTAF5O3CGAyYr3uHiilbhWsUuKY8DsRUVe6JAzRSQIFCzARN3RYHYCkgQiK2o2BMFaqaABIGaDZi4KwrEVkCCQGxFxZ4oUDMFJAgED5if70cm0q/qqhmDXHPqyzzF51t2ILJc7VTV87EC/fV4zh/XB45pmCDSltPPrmdYDiC2n5fTmYmT++Xvqxo74jOebvx4Xc5vrgSBoLHx8/3S6uGMwarmfPy8qnZ89apYgb56CPIrQCoWK5DrA8c0DGUMdjd2YH4/+0R7uw9NPRhO6Bf57OvrtLMJJQhwZ7TKY/h+VOSVMAYnbOcsWIFKFtcvxzQMYwxaVolJ1n+WJU7OH7SsGofTziaUIGCcDu4Dlu8XmTHo4+dVsQy99YwulVmBIfVcnD/DrH3gYRqGMgZXthpw0CSEOv5p92Hbg28b1y9fX6edTShBwD6BHccc3y8mY5Bj/nHtcPUc3cmTguo5OH+5Ad+Ol2m4DQsHc8m/3TC304cFnUeu2RrijX97nxDq+GdrrZgIaGUoKB4srCFWNWzz91XYhBIEws4hfJ7cyjn/OD+FfkbKOjvGoM7PG4dlaNYzu8exAj31Kjl/Zgv6UZlpGMYYfIgB4t2CTI5ocsVO06yfwi8QNqEmJIAEAUMO9wHH94vHGOT5ef52+Hp+ViBfTylR5vylOWq13WQM2jZ1piHVC2MMzi/gv1GgiibPYsqb4vd0fpk8RbI61WzCqLCyN9gYx/dLmHqBjEFWogrmn6+dKu7eRPzBxFEP5w/zFC9QQyqmXWP6oOpUMwapXeQ1kqZL60gstLe4fiXWB50RPp1gm0ujUp/s5t+wY/mKsLi5RN+TL+PCJRWtwrWKXVIeB2IrKvZEgZopIEGgZgMm7ooCsRWQIBBbUbEnCtRMAQkCNRswcVcUiK2AMAZjKyr2RIGaKSBvB85wwGTFO1xc0Spcq9gl5XEgtqJiTxSomQISBGo2YOKuKBBbAQkCsRUVe6JAzRSQIFCzARN3RYHYCkgQiK2o2BMFaqaABIGAAVNfzLnZf4gey3l4p2TUDXW2HtpSX9IBx9bj8jR+3kzK9jO5hXp7Osuvqh4jmrcPVGcIxDtMdCSeX94/096w24XdpJxbTx8zkaz48vIxnFKOoKmweSRBwNTDe+Tj04Vy87yGtYzdJrL1tgcJ22+wDbDa3C1yObYel4cWfL6zLD+mXuFUeY/rA8cf1C3NrqxAa68HHQd0hGMmcnnTzhHU9bX3JQjYiox5PBE3z9NGq9eD1kpK05hdWYP1vBzH1uPycgPVOwbLr7q4r4S/DwAcf9Bnz07nmIlc3rRzBG0d9WMJAroazL6PTxfKzWNMO7MIXnrSuO7M49h6rjyf71UsP189p1OORGcfPPxBR/WApDIzsahk5k07R7DQpbwnQaCsSSnFz6dDUFUrjJtXMsok0LS22d+GXksxtrTCHFvPkcf5zrH8uHqaN95dbx88/EGvoSgZtG4yB3M7O9Cfn0d+IT5y9VpRLL8JRiQIjD2KNosvjJsX2gwtbLVhC3p7HoQmx9bj8hIHTN+DWH6OelV9qewDGijzB6usuvI5ZqKeh2M0wn/HYL8BJ5ubsDrXBBOL5rI9PWkSBCrH2ubm2Xy6YombVqAPGluIsZxko7cMy3C41oO9bAawiyvZhfXUpo+tR7nlPN53P8uPr0dtqdV282Li+mDbtPmDZLV68zMTAbg8sjzVHEFO2jcMl3Y23YnCzatwLWfcZWy9hHdn8/X8bL2EP7jUGQ3sZhjf0zoelh9bz8MYrOoDY/Ply5e55/hWIOULKm6j1S8vMxEtcHkIRpxajmAurmNHviLkIuQp8+TLuHABRatwrWKXlMeB2IqKPVGgZgpIEKjZgIm7okBsBSQIxFZU7IkCNVNAgkDNBkzcFQViKyCMwdiKij1RoGYKyNuBmg2YuCsKxFZAHgdiKyr2RIGaKfD/jJLU/+R9s9kAAAAASUVORK5CYII=" width="257" height="201" class="img_ev3q"></p><ul><li>The following statement calculates the sales percentile for each salesman in 2016 and 2017.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PERCENT_RANK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> sales </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;%&#x27;</span><span class="token plain"> percent_rank</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> salesman_performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2016</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2017</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-12-07-59-985a1a7f660d4259fa007d6a806c71be.png" width="301" height="379" class="img_ev3q"></p><p>In this example:</p><ul><li>The <code>PARTITION BY</code> clause divided the result set into two partitions by year, 2016 and 2017.</li><li>The <code>ORDER BY</code> clause sorted rows in each partition by sales amount from high to low.</li><li>The <code>PERCENT_RANK()</code> function was then applied to the value of each row in each partition.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rank">RANK<a class="hash-link" href="#rank" title="Direct link to heading">​</a></h3><ul><li>The RANK() function returns the same rank for the rows with the same values. It adds the number of tied rows to the tied rank to calculate the next rank. Therefore, the ranks may not be consecutive numbers.</li><li>The RANK() function is useful for top-N and bottom-N queries.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">RANK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> query_partition_clause </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> order_by_clause</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>The <em>order_by_clause</em> is required. It species the order of rows in each partition to which the <code>RANK()</code> function applies.</li><li>The query partition clause, if available, divides the rows into partitions to which the <code>RANK()</code> function applies. In case the query partition cause is omitted, the whole result set is treated as a single partition.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-following-statement-calculates-the-rank-of-each-product-by-its-list-price">The following statement calculates the rank of each product by its list price:<a class="hash-link" href="#the-following-statement-calculates-the-rank-of-each-product-by-its-list-price" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RANK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-12-11-43-8339b5568774ac420f43f876c9d7a82c.png" width="543" height="313" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="to-get-the-top-10-most-expensive-products-you-use-the-following-statement">To get the top 10 most expensive products, you use the following statement:<a class="hash-link" href="#to-get-the-top-10-most-expensive-products-you-use-the-following-statement" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> cte_products </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RANK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> price_rank</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    price_rank</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain">  cte_products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> price_rank </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-12-12-14-0078219dcc1a0f86578200845ee59f84.png" width="389" height="215" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-following-example-returns-the-top-3-most-expensive-products-for-each-category">The following example returns the top-3 most expensive products for each category:<a class="hash-link" href="#the-following-example-returns-the-top-3-most-expensive-products-for-each-category" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> cte_products </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        category_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RANK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            price_rank</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    price_rank</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> cte_products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> price_rank </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this example:</p><ul><li>First, the <code>PARTITION BY</code> clause divided the products into multiple partitions by category.</li><li>Then, the <code>ORDER BY</code> clause sorted the rows in each partition by list price in descending order.</li><li>Finally, the <code>RANK()</code> function calculated the rank for each row in each partition. It re-initialized the rank for each partition.</li></ul><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-12-13-00-321243dfc7d48e38e1b4e95df9f53dfa.png" width="484" height="255" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dense_rank">DENSE_RANK<a class="hash-link" href="#dense_rank" title="Direct link to heading">​</a></h3><ul><li>The <code>DENSE_RANK()</code> is an analytic function that calculates the rank of a row in an ordered set of rows. The returned rank is an integer starting from 1.</li><li>Unlike the <code>RANK()</code> function, the <code>DENSE_RANK()</code> function returns rank values as consecutive integers. It does not skip rank in case of ties. Rows with the same values for the rank criteria will receive the same rank values.</li><li>You will find the <code>DENSE_RANK()</code> function very useful for top-N and bottom-N queries.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DENSE_RANK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> query_partition_clause </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> order_by_clause</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>the <em>order_by_clause</em> is required because the <code>DENSE_RANK()</code> function is ordered sensitive.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">expression2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ASC</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NULLS </span><span class="token keyword" style="color:#00009f">FIRST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LAST</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you omit the <em>query_partition_by</em> clause, the function will treat the whole result set as a single partition. Otherwise, the partition by clause will divide the result set into partitions to which the function applies.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">expression2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rank-values-with-the-list-price-as-a-rank-criterion">Rank values with the list price as a rank criterion<a class="hash-link" href="#rank-values-with-the-list-price-as-a-rank-criterion" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RANK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain">  products</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-11-31-08-7014e9aea824aaad09cfd5cc2af8f979.png" width="497" height="357" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="to-get-the-top-10-cheapest-product">To get the top-10 cheapest product<a class="hash-link" href="#to-get-the-top-10-cheapest-product" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> cte_products </span><span class="token keyword" style="color:#00009f">AS</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RANK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> my_rank</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> cte_products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> my_rank </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-11-31-19-7d85d764e0cfb30fa70496b31daf901c.png" width="331" height="218" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="top-5-cheapest-products-in-each-category">Top-5 cheapest products in each category<a class="hash-link" href="#top-5-cheapest-products-in-each-category" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> cte_products </span><span class="token keyword" style="color:#00009f">AS</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RANK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> my_rank</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> cte_products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> my_rank </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-11-31-29-4b6a620b901ef6d1c215227d78f4b10f.png" width="470" height="456" class="img_ev3q"></p><p>In this example:</p><ul><li>First, the <code>PARTITION BY</code> clause distributed the rows from the products table into partitions by category id.</li><li>Then, the <code>ORDER BY</code> clause sorted the rows in each partition by list price in ascending order.</li><li>Finally, the <code>DENSE_RANK()</code> function applied to the rows in each partition. It re-initialized the rank values for each new partition.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="first_value">FIRST_VALUE<a class="hash-link" href="#first_value" title="Direct link to heading">​</a></h3><ul><li>The <code>FIRST_VALUE()</code> is an analytic function that allows you to get the first value in an ordered set of value</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FIRST_VALUE </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expression</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> {RESPECT </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IGNORE</span><span class="token plain">} NULLS </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> query_partition_clause </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    order_by_clause</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">frame_clause</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="expression">expression<a class="hash-link" href="#expression" title="Direct link to heading">​</a></h4><ul><li>is an expression evaluated against the value of the first row in the window frame specified by the frame_clause.</li><li>The expression must return a single value and must not contain subqueries or other analytic functions. The <code>FIRST_VALUE()</code> function returns <code>NULL</code> if the value of the first row in the window frame evaluates to <code>NULL</code> unless you specify the <code>IGNORE NULLS</code> option. By default, the function uses <code>RESPECT NULLS</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="query_partition_clause">query_partition_clause<a class="hash-link" href="#query_partition_clause" title="Direct link to heading">​</a></h4><ul><li>The <em>query_partition_clause</em> clause divides rows into partitions by one or more criteria to which the <code>FIRST_VALUE()</code> function is applied. The <em>query_partition_clause</em> clause is optional. If you skip it, the <code>FIRST_VALUE()</code> function will consider the whole result set as a single partition.</li><li>The <em>query_partition_clause</em> has the following form:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">expression2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="order_by_clause">order_by_clause<a class="hash-link" href="#order_by_clause" title="Direct link to heading">​</a></h4><ul><li>The order_by_clause clause specifies the order of the rows in each partition to which the <code>FIRST_VALUE()</code> function is applied:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">expression2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ASC</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NULLS </span><span class="token keyword" style="color:#00009f">FIRST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LAST</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="frame_clause">frame_clause<a class="hash-link" href="#frame_clause" title="Direct link to heading">​</a></h4><ul><li>The frame_clause defines the frame of the current partition.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-the-product-id-product-name-list-price-and-the-name-of-the-product-with-the-lowest-price">Returns the product id, product name, list price, and the name of the product with the lowest price<a class="hash-link" href="#returns-the-product-id-product-name-list-price-and-the-name-of-the-product-with-the-lowest-price" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FIRST_VALUE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">product_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> first_product</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-11-37-37-edb06a082d399ed453e3235d72c6b549.png" width="551" height="364" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="to-get-the-lowest-price-product-in-each-category-you-add-the-query_partition_clause-clause-and-remove-the-where-clause">To get the lowest price product in each category, you add the <em>query_partition_clause</em> clause and remove the <code>WHERE</code> clause:<a class="hash-link" href="#to-get-the-lowest-price-product-in-each-category-you-add-the-query_partition_clause-clause-and-remove-the-where-clause" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FIRST_VALUE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">product_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> first_product</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-11-38-14-2b55073e31f6c6b1ffb5621a0867ce42.png" width="628" height="320" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="last_value">LAST_VALUE<a class="hash-link" href="#last_value" title="Direct link to heading">​</a></h3><ul><li>The <code>LAST_VALUE()</code> is an analytic function that allows you to obtain the last value in an ordered set of values.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LAST_VALUE </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expression</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> {RESPECT </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IGNORE</span><span class="token plain">} NULLS </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> query_partition_clause </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    order_by_clause</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">frame_clause</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this syntax:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="expression-1">expression<a class="hash-link" href="#expression-1" title="Direct link to heading">​</a></h4><ul><li>is an expression evaluated against the value of the last row in the window frame specified by the <em>frame_clause</em>.</li><li>It is required that the expression to return a single value. In addition, the expression must not contain subqueries or analytic functions. The <code>LAST_VALUE()</code> function returns <code>NULL</code> if the value of the last row in the window frame evaluates to <code>NULL</code> unless you specify the <code>IGNORE NULLS</code> option. The function uses <code>RESPECT NULLS</code> by default even you don’t explicitly specify it.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="query_partition_clause-1">query_partition_clause<a class="hash-link" href="#query_partition_clause-1" title="Direct link to heading">​</a></h4><ul><li>The <em>query_partition_clause</em> clause distributes rows into partitions by one or more criteria to which the <code>LAST_VALUE()</code> function is applied.</li><li>The <em>query_partition_clause</em> clause is optional. If you omit it, the function will treat the whole result set as a single partition.</li></ul><p>The following shows the syntax of the <em>query_partition_clause</em>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">expression2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="order_by_clause-1">order_by_clause<a class="hash-link" href="#order_by_clause-1" title="Direct link to heading">​</a></h4><ul><li>The <em>order_by_clause</em> clause specifies the order of the rows in each partition to which the <code>LAST_VALUE()</code> function is applied. - The <em>order_by_clause</em> is required and has the following form:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">expression2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ASC</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NULLS </span><span class="token keyword" style="color:#00009f">FIRST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LAST</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="frame_clause-1">frame_clause<a class="hash-link" href="#frame_clause-1" title="Direct link to heading">​</a></h4><p>The frame_clause defines the frame of the current partition.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-the-product-id-product-name-list-price-and-the-name-of-the-product-that-has-the-highest-list-price">Returns the product id, product name, list price, and the name of the product that has the highest list price:<a class="hash-link" href="#returns-the-product-id-product-name-list-price-and-the-name-of-the-product-that-has-the-highest-list-price" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LAST_VALUE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">product_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RANGE </span><span class="token operator" style="color:#393A34">BETWEEN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">UNBOUNDED</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRECEDING</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">UNBOUNDED</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FOLLOWING</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> highest_price_product_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-11-49-33-e791bc40841f328e3a225a24564fbb11.png" width="589" height="301" class="img_ev3q"></p><p>Note that the frame clause:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">RANGE </span><span class="token operator" style="color:#393A34">BETWEEN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">UNBOUNDED</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRECEDING</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token keyword" style="color:#00009f">UNBOUNDED</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FOLLOWING</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>defines that the window frame starts at the first row and ends at last row of the result set.</p><ul><li>To show the highest price product in each category, you add the <code>PARTITION BY</code> clause as shown in the following query:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LAST_VALUE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">product_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RANGE </span><span class="token operator" style="color:#393A34">BETWEEN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">UNBOUNDED</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRECEDING</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">UNBOUNDED</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FOLLOWING</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> highest_price_product_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lag">LAG<a class="hash-link" href="#lag" title="Direct link to heading">​</a></h3><ul><li>Oracle <code>LAG()</code> is an analytic function that allows you to access the row at a given offset prior to the current row without using a self-join.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LAG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expression </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">offset</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> query_partition_clause </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    order_by_clause</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this syntax:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="expression-2">expression<a class="hash-link" href="#expression-2" title="Direct link to heading">​</a></h4><ul><li>is a scalar expression evaluated against the value of the row at a given offset prior to the current row.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="offset">offset<a class="hash-link" href="#offset" title="Direct link to heading">​</a></h4><ul><li>is the number of rows that you want to backward from the current row. The default is 1.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="default">default<a class="hash-link" href="#default" title="Direct link to heading">​</a></h4><ul><li>If the offset goes beyond the scope of the partition, the function returns the default. If you omit default, then the function returns <code>NULL</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="query_partition_clause-2">query_partition_clause<a class="hash-link" href="#query_partition_clause-2" title="Direct link to heading">​</a></h4><ul><li>The <em>query_partition_clause</em> clause divides rows into partitions to which the <code>LAG()</code> function is applied. By default, the function treats the whole result set as a single partition.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="order_by_clause-2">order_by_clause<a class="hash-link" href="#order_by_clause-2" title="Direct link to heading">​</a></h4><ul><li>The <em>order_by_clause</em> clause specifies the order of the rows in each partition to which the <code>LAG()</code> function is applied.</li><li>Similar to the <code>LEAD()</code> function, the <code>LAG()</code> function is very useful for calculating the difference between the values of current and previous rows.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="return-sales-and-the-previous-years-sales-of-the-salesman-id-62">Return sales and the previous year’s sales of the salesman id 62<a class="hash-link" href="#return-sales-and-the-previous-years-sales-of-the-salesman-id-62" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LAG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sales</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> py_sales</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> salesman_performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> salesman_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">62</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="data:image/png;base64,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" width="362" height="81" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="calculate-year-over-year-sales-performance-of-the-salesman-id-62">Calculate year over year sales performance of the salesman id 62<a class="hash-link" href="#calculate-year-over-year-sales-performance-of-the-salesman-id-62" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> cte_sales </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    py_sales</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        LAG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sales</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> py_sales</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        salesman_performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        salesman_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">62</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    py_sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> py_sales </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;N/A&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ELSE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         TO_CHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sales </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> py_sales</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> py_sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;999999.99&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;%&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"> YoY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> cte_sales</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="data:image/png;base64,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" width="367" height="77" class="img_ev3q"></p><ul><li>The first row returned <code>NULL</code> for the py_sales column because there was no previous row of the first row.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="return-yoy-sales-performance-of-every-salesman">Return YoY sales performance of every salesman<a class="hash-link" href="#return-yoy-sales-performance-of-every-salesman" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> cte_sales </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    py_sales</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        LAG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sales</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> salesman_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> py_sales</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> salesman_performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    py_sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> py_sales </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;N/A&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ELSE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         TO_CHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sales </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> py_sales</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> py_sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;999999.99&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;%&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"> YoY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> cte_sales</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-11-45-28-fb2974cd39760a121d2476eefce2f886.png" width="369" height="282" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lead">LEAD<a class="hash-link" href="#lead" title="Direct link to heading">​</a></h3><ul><li>Oracle <code>LEAD()</code> is an analytic function that allows you to access the following row from the current row without using a self-join.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LEAD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expression </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">offset</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> query_partition_clause </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    order_by_clause</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this syntax:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="expression-3">expression<a class="hash-link" href="#expression-3" title="Direct link to heading">​</a></h4><ul><li>is a scalar expression evaluated against the value of the row specified by offset. It must return a single value.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="offset-1">offset<a class="hash-link" href="#offset-1" title="Direct link to heading">​</a></h4><ul><li>is the number of rows forwarding from the current row from which to get the value. The default is 1.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="default-1">default<a class="hash-link" href="#default-1" title="Direct link to heading">​</a></h4><ul><li>If the offset goes beyond the scope of the partition, the function returns the default. If you skip default, then the function will return <code>NULL</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="query_partition_clause-3">query_partition_clause<a class="hash-link" href="#query_partition_clause-3" title="Direct link to heading">​</a></h4><ul><li>The query_partition_clause clause divided the rows into partitions to which the <code>LEAD()</code> function is applied. By default, the function treats the whole result set as a single partition.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="order_by_clause-3">order_by_clause<a class="hash-link" href="#order_by_clause-3" title="Direct link to heading">​</a></h4><ul><li>The order_by_clause clause specifies the order the rows in each partition to which the <code>LEAD()</code> function is applied.</li><li>The <code>LEAD()</code> function is very useful for calculating the difference between the values of current and subsequent rows.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-the-sales-of-the-salesman-by-year-based-on-the-orders-and-order_items-tables">Returns the sales of the salesman by year based on the orders and order_items tables<a class="hash-link" href="#returns-the-sales-of-the-salesman-by-year-based-on-the-orders-and-order_items-tables" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">VIEW</span><span class="token plain"> salesman_performance </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EXTRACT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">YEAR</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> order_date</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">SUM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">quantity</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">unit_price</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> orders</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INNER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> order_items </span><span class="token keyword" style="color:#00009f">USING</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">order_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> salesman_id </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EXTRACT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">YEAR</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> order_date</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The following statement returns the data through the salesman_performance view :</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   sales</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> salesman_performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   sales</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-11-53-52-2bf150e0a45df148cb286a28e596c269.png" width="213" height="276" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="lead-function-to-return-sales-of-the-following-year-of-the-salesman-id-55">LEAD() function to return sales of the following year of the salesman id 55<a class="hash-link" href="#lead-function-to-return-sales-of-the-following-year-of-the-salesman-id-55" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LEAD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sales</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> following_year_sales</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain">  salesman_performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> salesman_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">55</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="data:image/png;base64,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" width="370" height="83" class="img_ev3q"></p><p>The last row returned <code>NULL</code> for the <em>following_year_sales</em> column because the offset went beyond the scope of the result set.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="lead-function-to-return-sales-of-the-following-year-for-every-salesman">LEAD() function to return sales of the following year for every salesman:<a class="hash-link" href="#lead-function-to-return-sales-of-the-following-year-for-every-salesman" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LEAD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sales</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> SALESMAN_ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> following_year_sales</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> salesman_performance</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-11-55-19-024a5166fcd5bb1e2a014ca0cfcb53ae.png" width="369" height="278" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nth_value">NTH_VALUE<a class="hash-link" href="#nth_value" title="Direct link to heading">​</a></h3><ul><li>The Oracle <code>NTH_VALUE()</code> function is an analytic function that returns the Nth value in a set of values.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">NTH_VALUE </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expression</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> { </span><span class="token keyword" style="color:#00009f">FIRST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LAST</span><span class="token plain"> } </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> { RESPECT </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IGNORE</span><span class="token plain"> } NULLS </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> query_partition_clause </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    order_by_clause</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">frame_clause</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this syntax:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="expression-4">expression<a class="hash-link" href="#expression-4" title="Direct link to heading">​</a></h4><ul><li>is any valid expression evaluated against the Nth row of the window frame.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="n">N<a class="hash-link" href="#n" title="Direct link to heading">​</a></h4><ul><li>Specifies the Nth row in the window frame defined by the frame_clause. N must be a positive integer such as 1, 2, and 3.</li><li>The <code>NTH_VALUE()</code> function will return <code>NULL</code> if the Nth row does not exist.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="from--first--last-">FROM { FIRST | LAST }<a class="hash-link" href="#from--first--last-" title="Direct link to heading">​</a></h4><ul><li>This determines whether the calculation starts at the first or last row of the window frame. The default is <code>FROM FIRST</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="--respect--ignore--nulls-">[ { RESPECT | IGNORE } NULLS ]<a class="hash-link" href="#--respect--ignore--nulls-" title="Direct link to heading">​</a></h4><ul><li>This determines whether <code>NULL</code> is included in or eliminated from the calculation. The default is <code>RESPECT NULLS</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="query_partition_clause-4">query_partition_clause<a class="hash-link" href="#query_partition_clause-4" title="Direct link to heading">​</a></h4><ul><li>The <em>query_partition_clause</em> clause divides the rows into partitions to which the <code>NTH_VALUE()</code> function is applied. The <em>query_partition_clause</em> clause is not mandatory. If you skip it, the <code>NTH_VALUE()</code> function will treat the whole result set as a single partition.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="order_by_clause-4">order_by_clause<a class="hash-link" href="#order_by_clause-4" title="Direct link to heading">​</a></h4><ul><li>The order_by_clause clause specifies the order of rows in each partition to which the <code>NTH_VALUE()</code> function is applied.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="frame_clause-2">frame_clause<a class="hash-link" href="#frame_clause-2" title="Direct link to heading">​</a></h4><ul><li>The frame_clause defines the frame of the current partition.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nth_value-function-to-return-all-the-products-and-also-the-second-most-expensive-one">NTH_VALUE() function to return all the products and also the second most expensive one:<a class="hash-link" href="#nth_value-function-to-return-all-the-products-and-also-the-second-most-expensive-one" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NTH_VALUE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RANGE </span><span class="token operator" style="color:#393A34">BETWEEN</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">UNBOUNDED</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRECEDING</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">UNBOUNDED</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FOLLOWING</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> second_most_expensive_product</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-11-59-32-67bfee2a098de44f447c564f6b8bc971.png" width="602" height="300" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nth_value-function-to-get-all-the-products-as-well-as-the-second-most-expensive-product-by-category">NTH_VALUE() function to get all the products as well as the second most expensive product by category:<a class="hash-link" href="#nth_value-function-to-get-all-the-products-as-well-as-the-second-most-expensive-product-by-category" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NTH_VALUE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RANGE </span><span class="token operator" style="color:#393A34">BETWEEN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">UNBOUNDED</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRECEDING</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">UNBOUNDED</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FOLLOWING</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> second_most_expensive_product</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ntile">NTILE<a class="hash-link" href="#ntile" title="Direct link to heading">​</a></h3><ul><li>Oracle <code>NTILE()</code> function is an analytical function that divides an ordered result set into a number of and assigns an appropriate bucket number to each row.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">NTILE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expression</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">query_partition_clause</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    order_by_clause</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this syntax:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="expression-5">expression<a class="hash-link" href="#expression-5" title="Direct link to heading">​</a></h4><ul><li><p>The expression is any valid expression evaluated to a positive integer.</p></li><li><p>The buck number is from 1 to the result of expression e.g., N. The number of rows in buckets can differ by at most 1. The remainder of the number of rows divided by buckets is allocated to each bucket, starting from the first bucket.</p></li><li><p>Suppose you have a result set that consists of 10 rows and you want to divide this result set into 4 buckets. First, 4 buckets will 2 rows are created. The remainder is 2 (10/4). These 2 buckets will be distributed to first and second buckets. As the result, the first and second buckets will have 2 + 1 = 3 rows. The last two buckets will have 2 rows.</p></li><li><p>The following picture illustrates the logic:
<img loading="lazy" src="/oracle/assets/images/2022-07-09-12-01-25-3e9c19c38c6373e678a08d522de82ab6.png" width="742" height="312" class="img_ev3q"></p></li><li><p>If the result of the expression is greater than the number of rows, then a number of buckets equal to the number of rows will be filled, and the remaining buckets will be empty.</p></li><li><p>For example, if you have five rows and six buckets, each row will be assigned a bucket number from 1 to 6. The 7th bucket will be empty.</p></li><li><p>Notice that the expression cannot contain any subquery or analytic function.</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="partition_by_clause">partition_by_clause<a class="hash-link" href="#partition_by_clause" title="Direct link to heading">​</a></h4><ul><li>The <code>PARTITION BY</code> clause divides the result sets into partitions to which the <code>NTILE</code> function is applied:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">expression2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="order_by_clause-5">order_by_clause<a class="hash-link" href="#order_by_clause-5" title="Direct link to heading">​</a></h4><ul><li>The <em>order_by_clause</em> clause specifies the order of rows in each partition to which the <code>NTILE()</code> is applied:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">expression2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ASC</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NULLS </span><span class="token keyword" style="color:#00009f">FIRST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LAST</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>-- We will use the salesman_performance view for the demonstration:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">OR</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REPLACE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">VIEW</span><span class="token plain"> salesman_performance </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EXTRACT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">YEAR</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> order_date</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">SUM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">quantity</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">unit_price</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> orders</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INNER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> order_items </span><span class="token keyword" style="color:#00009f">USING</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">order_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> salesman_id </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EXTRACT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">YEAR</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> order_date</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The following statement divides into 4 buckets the values in the sales column of the salesman_performance view from the year of 2017.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NTILE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> sales </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> quartile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> salesman_performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2017</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="data:image/png;base64,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" width="232" height="196" class="img_ev3q"></p><p>In this example, the sales column has 9 values so the first bucket receives 3 rows. Other 3 buckets receive 2 rows.</p><ul><li>The following statement divides into 4 buckets the values in the sales column of the salesman_performance view in the year of 2016 and 2017:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salesman_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sales</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NTILE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> sales </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> quartile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain">  salesman_performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2016</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">OR</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">year</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2017</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-12-04-41-82127cc6b760a7a1cb896200d31eef84.png" width="277" height="382" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="row_number">ROW_NUMBER<a class="hash-link" href="#row_number" title="Direct link to heading">​</a></h3><ul><li>The <code>ROW_NUMBER()</code> is an analytic function that assigns a sequential unique integer to each row to which it is applied, either each row in the partition or each row in the result set.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ROW_NUMBER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">query_partition_clause</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_by_clause</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this syntax:</p><ul><li>The <em>order_by_clause</em> is required. It specifies the order of rows in each partition or in the whole result set. The order_by_clause has the following form:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">expression2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">ASC</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NULLS </span><span class="token keyword" style="color:#00009f">FIRST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LAST</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>The <em>query_partition_clause</em> is optional. It distributes the rows into partitions to which the function is applied. If you omit the <em>query_partition_clause</em>, the function will treat the whole result set as a single partition. The <em>query_partition_clause</em> has the following form:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> expression1 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">expression2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-following-statement-returns-the-row-number-product-name-and-list-price-from-the-products-table-the-row-number-values-are-assigned-based-on-the-order-of-list-prices">The following statement returns the row number, product name and list price from the products table. The row number values are assigned based on the order of list prices.<a class="hash-link" href="#the-following-statement-returns-the-row-number-product-name-and-list-price-from-the-products-table-the-row-number-values-are-assigned-based-on-the-order-of-list-prices" title="Direct link to heading">​</a></h4><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ROW_NUMBER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> row_num</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-12-15-46-d2c98cd56ac6baa15b0f81aebb670ec2.png" width="397" height="378" class="img_ev3q"></p><ul><li>To effectively use the <code>ROW_NUMBER()</code> function, you should use a subquery or a common table expression to retrieve row numbers for a specified range to get the top-N, bottom-N, and inner-N results.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-row_number-function-is-useful-for-pagination-in-applications">The ROW_NUMBER() function is useful for pagination in applications.<a class="hash-link" href="#the-row_number-function-is-useful-for-pagination-in-applications" title="Direct link to heading">​</a></h4><ul><li>Suppose you want to display products by pages with the list price from high to low, each page has 10 products. To display the third page, you use the <code>ROW_NUMBER()</code> function as follows:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> cte_products </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        row_number</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> row_num</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        list_price</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> cte_products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> row_num </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">and</span><span class="token plain"> row_num </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">40</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-12-16-44-7da80d01a34f42719fce65fa59b4359e.png" width="400" height="219" class="img_ev3q"></p><ul><li><p>In this example, the CTE used the <code>ROW_NUMBER()</code> function to assign each row a sequential integer in descending order. The outer query retrieved the row whose row numbers are between 31 and 40.</p></li><li><p>To get a single most expensive product by category, you can use the <code>ROW_NUMBER()</code> function as shown in the following query:</p></li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> cte_products </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    row_number</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> category_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> list_price </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> row_num</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_price</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> cte_products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> row_num </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-12-17-32-fe13b0245e4ef090cd1b767c910eef1b.png" width="467" height="99" class="img_ev3q"></p><p>In this example:</p><ul><li>First, the <code>PARTITION BY</code> clause divided the rows into partitions by category id.</li><li>Then, the <code>ORDER BY</code> clause sorted the products in each category by list prices in descending order.</li><li>Next, the <code>ROW_NUMBER()</code> function is applied to each row in a specific category id. It re-initialized the row number for each category.</li><li>After that, the outer query selected the rows with row number 1 which is the most expensive product in each category.</li><li>For the consistent result, the query must return a result set with the deterministic order. For example, if two products had the same highest prices, then the result would not be consistent. It could return the first or second product.</li><li>To get more than one product with the same N-highest prices, you can use the <code>RANK()</code> or <code>DENSE_RANK()</code> function.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="date-functions">Date Functions<a class="hash-link" href="#date-functions" title="Direct link to heading">​</a></h2><table><thead><tr><th>Function</th><th>Example</th><th>Result</th><th>Description</th><th></th></tr></thead><tbody><tr><td>ADD_MONTHS</td><td>ADD_MONTHS( DATE &#x27;2016-02-29&#x27;, 1 )</td><td>31-MAR-16</td><td>Add a number of months (n) to a date and return the same day which is n of months away.</td><td></td></tr><tr><td>CURRENT_DATE</td><td>SELECT CURRENT_DATE FROM dual</td><td>06-AUG-2017 19:43:44</td><td>Return the current date and time in the session time zone</td><td></td></tr><tr><td>CURRENT_TIMESTAMP</td><td>SELECT CURRENT_TIMESTAMP FROM dual</td><td>06-AUG-17 08.26.52.742000000 PM -07:00</td><td>Return the current date and time with time zone in the session time zone</td><td></td></tr><tr><td>DBTIMEZONE</td><td>SELECT DBTIMEZONE FROM dual;</td><td>-07:00</td><td>Get the current database time zone</td><td></td></tr><tr><td>EXTRACT</td><td>EXTRACT(YEAR FROM SYSDATE)</td><td>2017</td><td>Extract a value of a date time field e.g., YEAR, MONTH, DAY, … from a date time value.</td><td></td></tr><tr><td>FROM_TZ</td><td>FROM_TZ(TIMESTAMP &#x27;2017-08-08 08:09:10&#x27;, &#x27;-09:00&#x27;)</td><td>08-AUG-17 08.09.10.000000000 AM -07:00</td><td>Convert a timestamp and a time zone to a TIMESTAMP WITH TIME ZONE value</td><td></td></tr><tr><td>LAST_DAY</td><td>LAST_DAY(DATE &#x27;2016-02-01&#x27;)</td><td>29-FEB-16</td><td>Gets the last day of the month of a specified date.</td><td></td></tr><tr><td>LOCALTIMESTAMP</td><td>SELECT LOCALTIMESTAMP FROM dual</td><td>06-AUG-17 08.26.52.742000000 PM</td><td>Return a TIMESTAMPvalue that represents the current date and time in the session time zone.</td><td></td></tr><tr><td>MONTHS_BETWEEN</td><td>MONTHS_BETWEEN( DATE &#x27;2017-07-01&#x27;, DATE &#x27;2017-01-01&#x27; )</td><td>6</td><td>Return the number of months between two dates.</td><td></td></tr><tr><td>NEW_TIME</td><td>NEW_TIME( TO_DATE( &#x27;08-07-2017 01:30:45&#x27;, &#x27;MM-DD-YYYY HH24:MI:SS&#x27; ), &#x27;AST&#x27;, &#x27;PST&#x27; )</td><td>06-AUG-2017 21:30:45</td><td>Convert a date in one time zone to another</td><td></td></tr><tr><td>NEXT_DAY</td><td>NEXT_DAY( DATE &#x27;2000-01-01&#x27;, &#x27;SUNDAY&#x27; )</td><td>02-JAN-00</td><td>Get the first weekday that is later than a specified date.</td><td></td></tr><tr><td>ROUND</td><td>ROUND(DATE &#x27;2017-07-16&#x27;, &#x27;MM&#x27;)</td><td>01-AUG-17</td><td>Return a date rounded to a specific unit of measure.</td><td></td></tr><tr><td>SESSIONTIMEZONE</td><td>SELECT SESSIONTIMEZONE FROM dual;</td><td>-07:00</td><td>Get the session time zone</td><td></td></tr><tr><td>SYSDATE</td><td>SYSDATE</td><td>01-AUG-17</td><td>Return the current system date and time of the operating system where the Oracle Database resides.</td><td></td></tr><tr><td>SYSTIMESTAMP</td><td>SELECT SYSTIMESTAMP FROM dual;</td><td>01-AUG-17 01.33.57.929000000 PM -07:00</td><td>Return the system date and time that includes fractional seconds and time zone.</td><td></td></tr><tr><td>TO_CHAR</td><td>TO_CHAR( DATE&#x27;2017-01-01&#x27;, &#x27;DL&#x27; )</td><td>Sunday, January 01, 2017</td><td>Convert a DATE or an INTERVALvalue to a character string in a specified format.</td><td></td></tr><tr><td>TO_DATE</td><td>TO_DATE( &#x27;01 Jan 2017&#x27;, &#x27;DD MON YYYY&#x27; )</td><td>01-JAN-17</td><td>Convert a date which is in the character string to a DATE value.</td><td></td></tr><tr><td>TRUNC</td><td>TRUNC(DATE &#x27;2017-07-16&#x27;, &#x27;MM&#x27;)</td><td>01-JUL-17</td><td>Return a date truncated to a specific unit of measure.</td><td></td></tr><tr><td>TZ_OFFSET</td><td>TZ_OFFSET( &#x27;Europe/London&#x27; )</td><td>+01:00</td><td>Get time zone offset of a time zone name from UTC</td><td></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="string-functions">String Functions<a class="hash-link" href="#string-functions" title="Direct link to heading">​</a></h2><table><thead><tr><th>Function</th><th>Example</th><th>Result</th><th>Purpose</th></tr></thead><tbody><tr><td>ASCII</td><td>ASCII(‘A’)</td><td>65</td><td>Returns an ASCII code value of a character.</td></tr><tr><td>CHR</td><td>CHR(’65’)</td><td>‘A’</td><td>Converts a numeric value to its corresponding ASCII character.</td></tr><tr><td>CONCAT</td><td>CONCAT(‘A’,’BC’)</td><td>‘ABC’</td><td>Concatenate two strings and return the combined string.</td></tr><tr><td>CONVERT</td><td>CONVERT( ‘Ä Ê Í’, ‘US7ASCII’, ‘WE8ISO8859P1’ )</td><td>‘A E I’</td><td>Convert a character string from one character set to another.</td></tr><tr><td>DUMP</td><td>DUMP(‘A’)</td><td>Typ=96 Len=1: 65</td><td>Return a string value (VARCHAR2) that includes the datatype code, length measured in bytes, and internal representation of a specified expression.</td></tr><tr><td>INITCAP</td><td>INITCAP(‘hi there’)</td><td>‘Hi There’</td><td>Converts the first character in each word in a specified string to uppercase and the rest to lowercase.</td></tr><tr><td>INSTR</td><td>INSTR( ‘This is a playlist’, ‘is’)</td><td>3</td><td>Search for a substring and return the location of the substring in a string</td></tr><tr><td>LENGTH</td><td>LENGTH(‘ABC’)</td><td>3</td><td>Return the number of characters (or length) of a specified string</td></tr><tr><td>LOWER</td><td>LOWER(‘Abc’)</td><td>‘abc’</td><td>Return a string with all characters converted to lowercase.</td></tr><tr><td>LPAD</td><td>LPAD(‘ABC’,5,’<!-- -->*<!-- -->’)</td><td>‘<!-- -->*<!-- -->*<!-- -->ABC’</td><td>Return a string that is left-padded with the specified characters to a certain length.</td></tr><tr><td>LTRIM</td><td>LTRIM(‘ ABC ‘)</td><td>‘ABC ‘</td><td>Remove spaces or other specified characters in a set from the left end of a string.</td></tr><tr><td>REGEXP_COUNT</td><td>REGEXP_COUNT(‘1 2 3 abc’,’\d’)</td><td>3</td><td>Return the number of times a pattern occurs in a string.</td></tr><tr><td>REGEXP_INSTR</td><td>REGEXP_INSTR( ‘Y2K problem’,’\d+’)</td><td>2</td><td>Return the position of a pattern in a string.</td></tr><tr><td>REGEXP_LIKE</td><td>REGEXP_LIKE( ‘Year of 2017′,’\d+’ )</td><td>true</td><td>Match a string based on a regular expression pattern.</td></tr><tr><td>REGEXP_REPLACE</td><td>REGEXP_REPLACE( ‘Year of 2017′,’\d+’, ‘Dragon’ )</td><td>‘Year of Dragon’</td><td>Replace substring in a string by a new substring using a regular expression.</td></tr><tr><td>REGEXP_SUBSTR</td><td>REGEXP_SUBSTR( ‘Number 10’, ‘\d+’ )</td><td>10</td><td>Extract substrings from a string using a pattern of a regular expression.</td></tr><tr><td>REPLACE</td><td>REPLACE(‘JACK AND JOND’,’J’,’BL’);</td><td>‘BLACK AND BLOND’</td><td>Replace all occurrences of a substring by another substring in a string.</td></tr><tr><td>RPAD</td><td>RPAD(‘ABC’,5,’<!-- -->*<!-- -->’)</td><td>‘ABC<!-- -->*<!-- -->*<!-- -->’</td><td>Return a string that is right-padded with the specified characters to a certain length.</td></tr><tr><td>RTRIM</td><td>RTRIM(‘ ABC ‘)</td><td>‘ ABC’</td><td>Remove all spaces or specified character in a set from the right end of a string.</td></tr><tr><td>SOUNDEX</td><td>SOUNDEX(‘sea’)</td><td>‘S000’</td><td>Return a phonetic representation of a specified string.</td></tr><tr><td>SUBSTR</td><td>SUBSTR(‘Oracle Substring’, 1, 6 )</td><td>‘Oracle’</td><td>Extract a substring from a string.</td></tr><tr><td>TRANSLATE</td><td>TRANSLATE(‘12345’, ‘143’, ‘bx’)</td><td>‘b2x5’</td><td>Replace all occurrences of characters by other characters in a string.</td></tr><tr><td>TRIM</td><td>TRIM(‘ ABC ‘)</td><td>‘ABC’</td><td>Remove the space character or other specified characters either from the start or end of a string.</td></tr><tr><td>UPPER</td><td>UPPER(‘Abc’)</td><td>‘ABC’</td><td>Convert all characters in a specified string to uppercase.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="comparison-functions">Comparison Functions<a class="hash-link" href="#comparison-functions" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="coalesce">COALESCE<a class="hash-link" href="#coalesce" title="Direct link to heading">​</a></h3><ul><li><code>COALESCE()</code> function returns the first non-null expression in the list. It requires at least two expressions.</li><li>If all arguments have the same data type, the <code>COALESCE()</code> function returns a value of that data type.</li><li>If the arguments have different data types, the <code>COALESCE()</code> function implicitly converts all arguments to the data type of the first non-null argument.</li><li>In case the conversion fails, then Oracle issues an error.</li><li>The <code>COALESCE()</code> function uses short-circuit evaluation. It means that the function stops evaluating the remaining expressions once it finds the first one evaluates to a non-null value.</li><li>In case of two expressions, the <code>COALESCE()</code> function and <code>NVL()</code> seems to be similar but their implementations are different.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">COALESCE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> dual</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> NVL</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> dual</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Both statements return the same result which is one. However, the <code>COALESCE()</code> function only evaluates the first expression to determine the result while the <code>NVL()</code> function evaluates both expressions.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">COALESCE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> dual</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> NVL</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> dual</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Because the <code>NVL()</code> function evaluated the second expression 1/0 that causes the error.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="decode">DECODE<a class="hash-link" href="#decode" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DECODE </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">search_value</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> search_value1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> search_value </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> search_value1 </span><span class="token operator" style="color:#393A34">is</span><span class="token plain"> same </span><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      search_value2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> search_value </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> search_value2 </span><span class="token operator" style="color:#393A34">is</span><span class="token plain"> same </span><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      search_value3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> search_value </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> search_value3 </span><span class="token operator" style="color:#393A34">is</span><span class="token plain"> same </span><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token keyword" style="color:#00009f">default</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> product_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       DECODE </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">warehouse_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Southlake&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;San Francisco&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;New Jersey&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Seattle&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&#x27;Non domestic&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token string" style="color:#e3116c">&quot;Location of inventory&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> inventories</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> product_id </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1775</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nvl">NVL<a class="hash-link" href="#nvl" title="Direct link to heading">​</a></h3><ul><li>The <code>NVL()</code> function accepts two arguments. If e1 evaluates to null, then <code>NVL()</code> function returns e2. If e1 evaluates to non-null, the <code>NVL()</code> function returns e1.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> NVL</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;N/A&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> dual</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nvl2">NVL2<a class="hash-link" href="#nvl2" title="Direct link to heading">​</a></h3><ul><li>The Oracle <code>NVL2()</code> function accepts three arguments. If the first argument is not null, then it returns the second argument. In case the second argument is null, then it returns the third argument.</li></ul><p><img loading="lazy" src="/oracle/assets/images/2022-07-09-12-40-01-ae8806855de0c43ef189bb83dd4e38d8.png" width="348" height="420" class="img_ev3q"></p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> NVL2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> dual</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> NVL2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ABC&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XYZ&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- ABC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> dual</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nullif">NULLIF<a class="hash-link" href="#nullif" title="Direct link to heading">​</a></h3><ul><li>The Oracle <code>NULLIF()</code> function accepts two arguments. It returns a null value if the two arguments are equal. In case the arguments are not equal, the <code>NULLIF()</code> function returns the first argument.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">NULLIF</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> dual</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>The following example causes an error because the first argument is literal <code>NULL</code>:</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">NULLIF</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> dual</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>The following statement also causes an error because the data types of arguments are different.</li></ul><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">NULLIF</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;20&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> dual</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/oracle/oracle-basics/Section 18. Jobs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Section 18. Jobs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/oracle/oracle-basics/Section 20. Query Tuning"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Section 20. Query Tuning</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#aggregate-functions" class="table-of-contents__link toc-highlight">Aggregate Functions</a><ul><li><a href="#avg" class="table-of-contents__link toc-highlight">AVG</a></li><li><a href="#count" class="table-of-contents__link toc-highlight">COUNT</a></li><li><a href="#max" class="table-of-contents__link toc-highlight">MAX</a></li><li><a href="#min" class="table-of-contents__link toc-highlight">MIN</a></li><li><a href="#sum" class="table-of-contents__link toc-highlight">SUM</a></li><li><a href="#listagg" class="table-of-contents__link toc-highlight">LISTAGG</a></li></ul></li><li><a href="#analytic-functions" class="table-of-contents__link toc-highlight">Analytic Functions</a><ul><li><a href="#cume_dist" class="table-of-contents__link toc-highlight">CUME_DIST</a></li><li><a href="#percent_rank" class="table-of-contents__link toc-highlight">PERCENT_RANK</a></li><li><a href="#rank" class="table-of-contents__link toc-highlight">RANK</a></li><li><a href="#dense_rank" class="table-of-contents__link toc-highlight">DENSE_RANK</a></li><li><a href="#first_value" class="table-of-contents__link toc-highlight">FIRST_VALUE</a></li><li><a href="#last_value" class="table-of-contents__link toc-highlight">LAST_VALUE</a></li><li><a href="#lag" class="table-of-contents__link toc-highlight">LAG</a></li><li><a href="#lead" class="table-of-contents__link toc-highlight">LEAD</a></li><li><a href="#nth_value" class="table-of-contents__link toc-highlight">NTH_VALUE</a></li><li><a href="#ntile" class="table-of-contents__link toc-highlight">NTILE</a></li><li><a href="#row_number" class="table-of-contents__link toc-highlight">ROW_NUMBER</a></li></ul></li><li><a href="#date-functions" class="table-of-contents__link toc-highlight">Date Functions</a></li><li><a href="#string-functions" class="table-of-contents__link toc-highlight">String Functions</a></li><li><a href="#comparison-functions" class="table-of-contents__link toc-highlight">Comparison Functions</a><ul><li><a href="#coalesce" class="table-of-contents__link toc-highlight">COALESCE</a></li><li><a href="#decode" class="table-of-contents__link toc-highlight">DECODE</a></li><li><a href="#nvl" class="table-of-contents__link toc-highlight">NVL</a></li><li><a href="#nvl2" class="table-of-contents__link toc-highlight">NVL2</a></li><li><a href="#nullif" class="table-of-contents__link toc-highlight">NULLIF</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/oracle/assets/js/runtime~main.31b0f7d5.js"></script>
<script src="/oracle/assets/js/main.be7cdecc.js"></script>
</body>
</html>